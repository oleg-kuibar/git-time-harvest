---
import Layout from '@layouts/Layout.astro'

const docs = [
  {
    title: 'Getting Started',
    sections: [
      { title: 'Installation', href: '#installation' },
      { title: 'Configuration', href: '#configuration' },
      { title: 'Basic Usage', href: '#basic-usage' },
    ],
  },
  {
    title: 'Features',
    sections: [
      { title: 'Time Tracking', href: '#time-tracking' },
      { title: 'Harvest Integration', href: '#harvest' },
      { title: 'Slack Notifications', href: '#slack' },
    ],
  },
]
---

<Layout title="Documentation - Weekly PR Reports">
  <main class="min-h-screen bg-background">
    <div class="container mx-auto px-4 py-16">
      <div class="flex gap-8">
        <aside class="w-64 flex-shrink-0 hidden md:block">
          <nav class="sticky top-20 space-y-6">
            {
              docs.map((section) => (
                <div>
                  <h3 class="font-medium text-foreground mb-2">{section.title}</h3>
                  <ul class="space-y-2">
                    {section.sections.map((item) => (
                      <li>
                        <a
                          href={item.href}
                          class="text-sm text-muted-foreground hover:text-foreground transition-colors"
                        >
                          {item.title}
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>
              ))
            }
          </nav>
        </aside>

        <div class="flex-1 max-w-3xl prose prose-slate dark:prose-invert">
          <h1>Documentation</h1>

          <h2 id="installation">Installation</h2>
          <p>To get started with Weekly PR Reports, install the GitHub App on your repositories:</p>
          <ol>
            <li>Go to the GitHub Marketplace</li>
            <li>Find Weekly PR Reports</li>
            <li>Click "Install it for free"</li>
            <li>Select the repositories you want to track</li>
          </ol>

          <h2 id="configuration">Configuration</h2>
          <p>After installation, you'll need to configure your time tracking preferences:</p>
          <pre><code>{`# .github/weekly-pr-reports.yml
tracking:
  enabled: true
  harvest:
    enabled: true
    project_id: "123456"
notifications:
  slack: true
  email: daily`}</code></pre>

          <h2 id="basic-usage">Basic Usage</h2>
          <p>Weekly PR Reports automatically tracks time spent on pull request reviews. No manual input required!</p>
        </div>
      </div>
    </div>
  </main>
</Layout>
